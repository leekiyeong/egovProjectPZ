DROP TABLE USERINFO;
DROP TABLE CAFEINFO;
DROP TABLE PZ;
DROP TABLE CAFEPZ;
DROP TABLE BOARD;
DROP TABLE BOARD;
DROP SEQUENCE PZ_SEQ;
DROP SEQUENCE CAFEPZ_SEQ;
DROP SEQUENCE NOTICE_SEQ;
DROP SEQUENCE BOARD_SEQ;

CREATE TABLE USERINFO (
    USERID VARCHAR2(200) PRIMARY KEY,
    PWD VARCHAR2(200) NOT NULL,
    USERNAME VARCHAR2(50) NOT NULL,
    INSTA VARCHAR2(50),
    BIRTHDAY DATE NOT NULL,
    RDATE DATE,
    AUTH CHAR(1) DEFAULT 'N' NOT NULL,
    CONSTRAINT USER_AUTH_CK CHECK(AUTH IN ('N', 'Y', 'S')),
    EMAIL VARCHAR2(200),
    PHONE VARCHAR2(200) NOT NULL,
    NICKNAME VARCHAR2(200) NOT NULL,
    RANKS CHAR(1) DEFAULT '1'
);
COMMENT ON TABLE USERINFO IS '유저 정보 테이블';
COMMENT ON COLUMN USERINFO.USERID IS '유저 아이디';
COMMENT ON COLUMN USERINFO.PWD IS '비밀번호';
COMMENT ON COLUMN USERINFO.USERNAME IS '이름';
COMMENT ON COLUMN USERINFO.INSTA IS '인스타';
COMMENT ON COLUMN USERINFO.BIRTHDAY IS '생일';
COMMENT ON COLUMN USERINFO.RDATE IS '생성일';
COMMENT ON COLUMN USERINFO.AUTH IS '권한 N=사용자, Y=관리자, S=마스터';
COMMENT ON COLUMN USERINFO.EMAIL IS '이메일';
COMMENT ON COLUMN USERINFO.PHONE IS '연락처';
COMMENT ON COLUMN USERINFO.NICKNAME IS '닉네임';
COMMENT ON COLUMN USERINFO.RANKS IS '사용자 등급';

CREATE TABLE PZ (
    UNQ NUMBER PRIMARY KEY,
    USERID VARCHAR2(200) NOT NULL,
    INSTA VARCHAR2(50),
    ADDR VARCHAR2(2000) NOT NULL,
    PHOTO VARCHAR2(4000) NOT NULL,
    RDATE TIMESTAMP,
    LIKES NUMBER DEFAULT '0',
    DEL CHAR(1) DEFAULT 'N' NOT NULL,
    CONSTRAINT PZ_DEL_CK CHECK(DEL IN ('Y', 'N'))
);
COMMENT ON TABLE PZ IS '포토존 정보 테이블';
COMMENT ON COLUMN PZ.UNQ IS '고유번호';
COMMENT ON COLUMN PZ.USERID IS '유저';
COMMENT ON COLUMN PZ.INSTA IS '인스타';
COMMENT ON COLUMN PZ.ADDR IS '주소';
COMMENT ON COLUMN PZ.PHOTO IS '사진';
COMMENT ON COLUMN PZ.RDATE IS '작성일';
COMMENT ON COLUMN PZ.LIKES IS '좋아요';
COMMENT ON COLUMN PZ.DEL IS '삭제여부';

CREATE SEQUENCE PZ_SEQ
INCREMENT BY 1
START WITH 1;

CREATE TABLE CAFEINFO (
    CAFEID VARCHAR2(200) PRIMARY KEY,
    PWD VARCHAR2(200) NOT NULL,
    ADDR VARCHAR2(2000) NOT NULL,
    CAFENAME VARCHAR2(500) NOT NULL,
    OPENTIME TIMESTAMP NOT NULL,
    CLOSETIME TIMESTAMP NOT NULL,
    MENU VARCHAR2(4000),
    PHOTO VARCHAR2(4000) NOT NULL,
    DEL CHAR(1) DEFAULT 'N' NOT NULL,
    CONSTRAINT CAFEINFO_DEL_CK CHECK(DEL IN ('Y', 'N'))
);
COMMENT ON TABLE CAFEINFO IS '카페 정보 테이블';
COMMENT ON COLUMN CAFEINFO.CAFEID IS '카페 아이디';
COMMENT ON COLUMN CAFEINFO.PWD IS '비밀번호';
COMMENT ON COLUMN CAFEINFO.ADDR IS '주소';
COMMENT ON COLUMN CAFEINFO.CAFENAME IS '카페명';
COMMENT ON COLUMN CAFEINFO.OPENTIME IS '오픈시간';
COMMENT ON COLUMN CAFEINFO.CLOSETIME IS '닫는시간';
COMMENT ON COLUMN CAFEINFO.MENU IS '카페 메뉴';
COMMENT ON COLUMN CAFEINFO.PHOTO IS '카페 초기 등록 사진';
COMMENT ON COLUMN CAFEINFO.DEL IS '삭제여부';

CREATE TABLE CAFEPZ (
    UNQ NUMBER PRIMARY KEY,
    USERID VARCHAR2(200) NOT NULL,
    ADDR VARCHAR2(2000) NOT NULL,
    INSTA VARCHAR2(50),
    PHOTO VARCHAR2(4000) NOT NULL,
    RDATE TIMESTAMP,
    LIKES NUMBER DEFAULT '0',
    DEL CHAR(1) DEFAULT 'N' NOT NULL
    CONSTRAINT CAFEPZ_DEL_CK CHECK(DEL IN ('Y', 'N'))
);
COMMENT ON TABLE CAFEPZ IS '카페 포토존 테이블';
COMMENT ON COLUMN CAFEPZ.UNQ IS '고유번호';
COMMENT ON COLUMN CAFEPZ.USERID IS '유저';
COMMENT ON COLUMN CAFEPZ.ADDR IS '주소';
COMMENT ON COLUMN CAFEPZ.INSTA IS '인스타';
COMMENT ON COLUMN CAFEPZ.PHOTO IS '사진';
COMMENT ON COLUMN CAFEPZ.RDATE IS '작성일';
COMMENT ON COLUMN CAFEPZ.LIKES IS '좋아요';
COMMENT ON COLUMN CAFEPZ.DEL IS '삭제';

CREATE SEQUENCE CAFEPZ_SEQ
INCREMENT BY 1
START WITH 1;

CREATE TABLE BOARD (
    UNQ NUMBER PRIMARY KEY,
    TITLE VARCHAR2(200) NOT NULL,
    CONTENT VARCHAR2(2000) NOT NULL,
    HITS NUMBER DEFAULT '0',
    UDATE TIMESTAMP,
    RDATE TIMESTAMP,
    NOTICE CHAR(1) DEFAULT 'N' NULL,
    DEL CHAR(1) DEFAULT 'N' NOT NULL,
    CONSTRAINT BOARD_DEL_CK CHECK(DEL IN ('Y', 'N')),
    USERID VARCHAR2(200),
    NICKNAME VARCHAR2(50),
    CAFEID VARCHAR2(200),
    CAFENAME VARCHAR2(500),
    AUTH CHAR(1) DEFAULT 'N' NOT NULL,
    CONSTRAINT BOARD_AUTH_CK CHECK(AUTH IN ('Y', 'N', 'S'))
);
COMMENT ON TABLE BOARD IS '공지사항 테이블';
COMMENT ON COLUMN BOARD.UNQ IS '고유번호';
COMMENT ON COLUMN BOARD.TITLE IS '제목';
COMMENT ON COLUMN BOARD.CONTENT IS '내용';
COMMENT ON COLUMN BOARD.HITS IS '조회수';
COMMENT ON COLUMN BOARD.RDATE IS '수정일';
COMMENT ON COLUMN BOARD.NOTICE IS '공지여부 N=일반게시물, Y=공지사항';
COMMENT ON COLUMN BOARD.DEL IS '삭제';
COMMENT ON COLUMN BOARD.USERID IS '유저 아이디';
COMMENT ON COLUMN BOARD.NICKNAME IS '유저 닉네임';
COMMENT ON COLUMN BOARD.CAFEID IS '카페 아이디';
COMMENT ON COLUMN BOARD.CAFENAME IS '카페 이름';
COMMENT ON COLUMN BOARD.AUTH IS '권한 N=사용자, Y=관리자, S=마스터';
CREATE SEQUENCE BOARD_SEQ
INCREMENT BY 1
START WITH 1;
COMMIT;